#:kivy 1.0
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
ScreenManager:
    id: screen_manager
    transition: FadeTransition()
    MainScreen:
    SessionJoiningScreen:
        TextInput:
            id: servername
            size_hint: (.5, .15)
            text_size: root.width, None
            font_size: '35sp'
            multiline: False
            pos: (350, 400)
        TextInput:
            id: username
            size_hint: (.5, .15)
            text_size: root.width, None
            font_size: '35sp'
            multiline: False
            pos: (350, 300)
        TextInput:
            id: password
            size_hint: (.5, .15)
            text_size: root.width, None
            font_size: '35sp'
            multiline: False
            password: True
            pos: (350, 200)
        Button:
            id: joinsess
            text: 'Join Session'
            halign: 'center'
            valign: 'middle'
            size_hint: (.25, .15)
            text_size: root.width, None
            font_size: '25sp'
            pos: (450, 20)
            on_release: self.parent.gettext(servername.text, username.text, password.text)
    SessionScreen:
    SettingsScreen:
        TextInput:
            id: setting1
            size_hint: (.5, .15)
            text_size: root.width, None
            font_size: '35sp'
            multiline: False
            pos: (350, 400)
        TextInput:
            id: setting2
            size_hint: (.5, .15)
            text_size: root.width, None
            font_size: '35sp'
            multiline: False
            pos: (350, 300)
        TextInput:
            id: setting3
            size_hint: (.5, .15)
            text_size: root.width, None
            font_size: '35sp'
            multiline: False
            password: True
            pos: (350, 200)
<MainScreen>:
    name: "main"
    Button:
        id: settings
        text: 'Settings'
        halign: 'center'
        valign: 'middle'
        size_hint: (.15, .10)
        text_size: root.width, None
        font_size: '25sp'
        pos: (650, 525)
        on_release: app.root.current = 'settings'
    Label:
        id: title
        text: 'High Quality Chat'
        text_size: root.width, None
        halight: 'center'
        size: self.texture_size
        font_size: '70sp'
        pos: (135, 175)
        bold: True
        markup: True
    BoxLayout:
        spacing: '5'
        padding: [150, 225, 150, 150]
        Button:
            id: producer
            text: "I'm a Producer"
            on_release: app.root.current = "sessionjoining"
            size_hint: (.33, 1)
            font_size: '20sp'
        Button:
            id: producer
            text: "I'm an artist"
            on_release: app.root.current = "sessionjoining"
            size_hint: (.33, 1)
            font_size: '20sp'
        Button:
            id: producer
            text: "I'm a Listener"
            on_release: app.root.current = "sessionjoining"
            size_hint: (.33, 1)
            font_size: '20sp'
<SessionJoiningScreen>
    name: "sessionjoining"
    Label:
        text: 'Server Address:'
        text_size: root.width, None
        size: self.texture_size
        font_size: '35sp'
        pos: (90, 150)
        bold: True
    Label:
        text: 'User Name:'
        text_size: root.width, None
        size: self.texture_size
        font_size: '35sp'
        pos: (153, 50)
        bold: True
    Label:
        text: 'Password:'
        text_size: root.width, None
        size: self.texture_size
        font_size: '35sp'
        pos: (170, -50)
        bold: True
<SessionScreen>:
    name: "session"
    ActionBar:
        ActionView:
            ActionPrevious:
                title: 'HQC: Session Name'
                with_previous: False
            ActionOverflow:
            ActionToggleButton:
                background_normal: 'atlas://data/images/defaulttheme/audio-volume-high'
                group: 'volume'
            ActionToggleButton:
                background_normal: 'atlas://data/images/defaulttheme/audio-volume-low'
                group: 'volume'
            ActionButton:
                background_down: '../img/muted.png'
                background_normal: '../img/microphone.png'
            ActionButton:
                text: 'Btn3'
            ActionButton:
                text: 'Btn4'
            ActionGroup:
                text: 'Group1'
                ActionButton:
                    text: 'Btn5'
                ActionButton:
                    text: 'Leave Session'
                    on_release: app.root.current = "main"
    TabbedPanel:
        size_hint: (1, .5)
        pos_hint: {'center_x': .5, 'center_y': .75}
        do_default_tab: False
        TabbedPanelItem:
            text: 'Recordings'
            tab_width: 400
            Carousel:
                loop: 'True'
                VideoPlayer:
                    source: '../img/background_edit.mp4'
                    state: 'play'
                    text: '1/8/17 MCO Take 2'
                VideoPlayer:
                    text: 'Download'
                    source: '../img/background_edit.wav'
        TabbedPanelItem:
            tab_width: 300
            text: 'Tab 2'
            BoxLayout:
                Label:
                    text: 'Scrolling List of Recordings'
                Button:
                    text: 'Download Selected Recordings'
        TabbedPanelItem:
            text: 'tab3'
    Button:
        id: record
        text: 'Record'
        font_size: '25sp'
        size_hint: (.25, .25)
        pos: (300, 100)
        on_press: root.record_audio()
<SettingsScreen>
    name: "settings"
    Button:
        id: main_menu
        text: 'Main Menu'
        halign: 'center'
        valign: 'middle'
        size_hint: (.20, .10)
        text_size: root.width, None
        font_size: '25sp'
        pos: (625, 525)
        on_release: app.root.current = 'main'
    Label:
        text: 'Setting 1'
        text_size: root.width, None
        size: self.texture_size
        font_size: '35sp'
        pos: (170, 150)
        bold: True
    Label:
        text: 'Setting 2'
        text_size: root.width, None
        size: self.texture_size
        font_size: '35sp'
        pos: (170, 50)
        bold: True
    Label:
        text: 'Setting 3'
        text_size: root.width, None
        size: self.texture_size
        font_size: '35sp'
        pos: (170, -50)
        bold: True
    Button:
        id: save_settings
        text: 'Save Settings'
        halign: 'center'
        valign: 'middle'
        size_hint: (.25, .15)
        text_size: root.width, None
        font_size: '25sp'
        pos: (450, 20)
        on_release: app.root.current = 'main'

